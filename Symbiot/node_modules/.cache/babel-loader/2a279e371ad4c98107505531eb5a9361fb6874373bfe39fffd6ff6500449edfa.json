{"ast":null,"code":"var _jsxFileName = \"F:\\\\Symbtest\\\\src\\\\pages\\\\EmotionAnalysis.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { auth } from '../firebase';\nimport EmotionBasedRecommendations from '../components/EmotionBasedRecommendations';\nimport OnlineCourseRecommendations from '../components/OnlineCourseRecommendations';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EmotionAnalysis = () => {\n  _s();\n  // State variables\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingComplete, setRecordingComplete] = useState(false);\n  const [recordingDuration, setRecordingDuration] = useState(0);\n  const [emotionResult, setEmotionResult] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState('');\n  const [user, setUser] = useState(null);\n  const [notes, setNotes] = useState('');\n  const [countdown, setCountdown] = useState(3);\n  const [isCountingDown, setIsCountingDown] = useState(false);\n\n  // Refs\n  const videoRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const mediaChunksRef = useRef([]);\n  const mediaStreamRef = useRef(null);\n  const timerRef = useRef(null);\n\n  // Constants\n  const MAX_RECORDING_DURATION = 15; // seconds\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n  console.log('Using API URL:', API_URL); // Debug log\n\n  // Check if user is authenticated\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(currentUser => {\n      if (currentUser) {\n        setUser(currentUser);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Clean up on component unmount\n  useEffect(() => {\n    return () => {\n      if (mediaStreamRef.current) {\n        mediaStreamRef.current.getTracks().forEach(track => track.stop());\n      }\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, []);\n\n  // Start countdown before recording\n  const startCountdown = () => {\n    setIsCountingDown(true);\n    setCountdown(3);\n    const countdownInterval = setInterval(() => {\n      setCountdown(prevCount => {\n        if (prevCount <= 1) {\n          clearInterval(countdownInterval);\n          setIsCountingDown(false);\n          startRecording();\n          return 0;\n        }\n        return prevCount - 1;\n      });\n    }, 1000);\n  };\n\n  // Start recording video\n  const startRecording = async () => {\n    try {\n      setError('');\n      setRecordingComplete(false);\n      setEmotionResult(null);\n\n      // Request camera and microphone access\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      });\n      mediaStreamRef.current = stream;\n\n      // Display video preview\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n\n      // Initialize MediaRecorder\n      mediaRecorderRef.current = new MediaRecorder(stream);\n      mediaChunksRef.current = [];\n\n      // Collect video data\n      mediaRecorderRef.current.ondataavailable = event => {\n        if (event.data.size > 0) {\n          mediaChunksRef.current.push(event.data);\n        }\n      };\n\n      // Handle recording stop\n      mediaRecorderRef.current.onstop = () => {\n        const mediaBlob = new Blob(mediaChunksRef.current, {\n          type: 'video/webm'\n        });\n        uploadVideoForAnalysis(mediaBlob);\n      };\n\n      // Start recording\n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n      setRecordingDuration(0);\n\n      // Set up timer to track recording duration\n      timerRef.current = setInterval(() => {\n        setRecordingDuration(prev => {\n          const newDuration = prev + 1;\n\n          // Automatically stop recording after MAX_RECORDING_DURATION\n          if (newDuration >= MAX_RECORDING_DURATION) {\n            stopRecording();\n          }\n          return newDuration;\n        });\n      }, 1000);\n    } catch (err) {\n      console.error('Error starting recording:', err);\n      setError('Failed to access camera and microphone. Please ensure you have granted the necessary permissions.');\n    }\n  };\n\n  // Stop recording\n  const stopRecording = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      setRecordingComplete(true);\n    }\n  };\n\n  // Upload video for emotion analysis\n  const uploadVideoForAnalysis = async mediaBlob => {\n    try {\n      setIsUploading(true);\n      setError('');\n      console.log('Creating video file from blob...');\n      const videoFile = new File([mediaBlob], 'emotion_analysis.webm', {\n        type: 'video/webm'\n      });\n      console.log('Preparing form data...');\n      const formData = new FormData();\n      formData.append('file', videoFile);\n      formData.append('blog_post', notes);\n      console.log(`Sending request to ${API_URL}/upload-video-and-blog/...`);\n\n      // For demo purposes, let's simulate a successful response\n      // This will be replaced with actual API call when backend is ready\n      setTimeout(() => {\n        // Enhanced mock emotion analysis with more varied results\n        const mockEmotions = [\"happy\", \"sad\", \"angry\", \"neutral\", \"surprised\", \"fearful\", \"disgusted\", \"excited\", \"content\"];\n\n        // Weighted emotion selection - make some emotions more likely based on facial expressions\n        const getWeightedEmotion = () => {\n          // This simulates analyzing facial features in the video\n          // In a real implementation, this would be done by ML models\n          const weights = {\n            \"happy\": 0.25,\n            // Common emotion\n            \"neutral\": 0.20,\n            // Common emotion\n            \"sad\": 0.15,\n            // Somewhat common\n            \"surprised\": 0.10,\n            \"angry\": 0.10,\n            \"content\": 0.08,\n            \"excited\": 0.05,\n            \"fearful\": 0.04,\n            \"disgusted\": 0.03 // Rare emotion\n          };\n\n          // Random number between 0 and 1\n          const random = Math.random();\n          let cumulativeWeight = 0;\n\n          // Select emotion based on weight\n          for (const [emotion, weight] of Object.entries(weights)) {\n            cumulativeWeight += weight;\n            if (random <= cumulativeWeight) {\n              return emotion;\n            }\n          }\n\n          // Fallback\n          return \"neutral\";\n        };\n\n        // Get emotions for video and audio\n        const videoEmotion = getWeightedEmotion();\n        const audioEmotion = getWeightedEmotion();\n\n        // More sophisticated emotion fusion algorithm\n        // In real implementation, this would consider confidence scores and context\n        let finalEmotion;\n\n        // If both emotions match, that's definitely the final emotion\n        if (videoEmotion === audioEmotion) {\n          finalEmotion = videoEmotion;\n        }\n        // If audio detects strong emotions, prioritize those\n        else if ([\"sad\", \"angry\", \"fearful\"].includes(audioEmotion)) {\n          finalEmotion = audioEmotion;\n        }\n        // If video shows strong emotions, prioritize those\n        else if ([\"happy\", \"surprised\", \"excited\"].includes(videoEmotion)) {\n          finalEmotion = videoEmotion;\n        }\n        // Default to video emotion in other cases\n        else {\n          finalEmotion = videoEmotion;\n        }\n        const mockResult = {\n          emotion: {\n            video: videoEmotion,\n            audio: audioEmotion,\n            final: finalEmotion\n          },\n          blog_post: notes\n        };\n        console.log('Mock emotion analysis result:', mockResult);\n        setEmotionResult(mockResult.emotion);\n        setIsUploading(false);\n      }, 2000);\n\n      /* Uncomment this when backend is ready\n      // Now send the actual request\n      const response = await fetch(`${API_URL}/upload-video-and-blog/`, {\n        method: 'POST',\n        body: formData,\n      });\n       console.log('Response status:', response.status);\n       if (!response.ok) {\n        throw new Error(`Server responded with status: ${response.status}`);\n      }\n       const result = await response.json();\n      console.log('Emotion analysis result:', result);\n       // Process and display the emotion result\n      if (result.emotion) {\n        setEmotionResult(result.emotion);\n      } else {\n        setError('No emotion data received from the server.');\n      }\n      */\n    } catch (err) {\n      console.error('Error uploading video:', err);\n      setError(`Failed to analyze video: ${err.message}`);\n      setIsUploading(false);\n    }\n  };\n\n  // Reset the component state\n  const resetAnalysis = () => {\n    if (mediaStreamRef.current) {\n      mediaStreamRef.current.getTracks().forEach(track => track.stop());\n    }\n    setIsRecording(false);\n    setRecordingComplete(false);\n    setRecordingDuration(0);\n    setEmotionResult(null);\n    setIsUploading(false);\n    setError('');\n    setNotes('');\n\n    // Restart camera preview\n    startCamera();\n  };\n\n  // Start camera without recording\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: false\n      });\n      mediaStreamRef.current = stream;\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setError('Failed to access camera. Please ensure you have granted the necessary permissions.');\n    }\n  };\n\n  // Format time as MM:SS\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60).toString().padStart(2, '0');\n    const secs = (seconds % 60).toString().padStart(2, '0');\n    return `${mins}:${secs}`;\n  };\n\n  // Get emotion color based on detected emotion\n  const getEmotionColor = emotion => {\n    const emotionColors = {\n      happy: 'bg-green-500',\n      // Green for happy\n      sad: 'bg-blue-500',\n      // Blue for sad\n      angry: 'bg-red-500',\n      // Red for angry\n      neutral: 'bg-gray-500',\n      // Gray for neutral\n      surprised: 'bg-purple-500',\n      // Purple for surprised\n      fearful: 'bg-yellow-500',\n      // Yellow for fearful\n      disgusted: 'bg-orange-500',\n      // Orange for disgusted\n      excited: 'bg-pink-500',\n      // Pink for excited\n      content: 'bg-teal-500' // Teal for content\n    };\n\n    // Convert to lowercase and find matching color, default to gray if not found\n    return emotionColors[emotion === null || emotion === void 0 ? void 0 : emotion.toLowerCase()] || 'bg-gray-500';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-[#0B0C10] text-[#CFC6C7]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-[#66FCF1] mb-6\",\n        children: \"AI Emotion Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-500 text-white p-3 rounded-lg mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#1F2833] rounded-lg overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative aspect-video bg-black\",\n            children: [isCountingDown && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-6xl font-bold text-white\",\n                children: countdown\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n              ref: videoRef,\n              autoPlay: true,\n              playsInline: true,\n              muted: true,\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-2 right-2 flex items-center bg-red-500 text-white px-2 py-1 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 rounded-full bg-white animate-pulse mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [formatTime(recordingDuration), \" / \", formatTime(MAX_RECORDING_DURATION)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: \"Video Feed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400\",\n              children: \"Record a short video to analyze your emotions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#1F2833] rounded-lg overflow-hidden\",\n          children: emotionResult ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-[#66FCF1] mb-3\",\n              children: \"Analysis Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-4 h-4 rounded-full ${getEmotionColor(emotionResult.final)} mr-2`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Primary Emotion: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 capitalize\",\n                  children: emotionResult.final || 'Unknown'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this), emotionResult.video && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-4 h-4 rounded-full ${getEmotionColor(emotionResult.video)} mr-2`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Video Analysis: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 capitalize\",\n                  children: emotionResult.video\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this), emotionResult.audio && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-4 h-4 rounded-full ${getEmotionColor(emotionResult.audio)} mr-2`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Audio Analysis: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 capitalize\",\n                  children: emotionResult.audio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium mb-2\",\n                children: \"Recommendations:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-disc list-inside text-sm\",\n                children: [emotionResult.final === 'happy' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Continue engaging in activities that bring you joy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Share your positive energy with others\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Practice gratitude to maintain this positive state\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'sad' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Consider talking to someone you trust about your feelings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Engage in gentle self-care activities\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Try mindfulness or breathing exercises\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'angry' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Take a few deep breaths to calm your nervous system\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Consider a short break from the situation if possible\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Try physical activity to release tension\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'neutral' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Consider activities that might boost your mood\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Practice mindfulness to increase emotional awareness\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Engage in creative or stimulating activities\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'surprised' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Take a moment to process the unexpected information\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Consider how this surprise affects your plans\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Share your experience with someone if it was significant\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'fearful' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Practice deep breathing to calm your nervous system\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Identify the source of your fear and assess if it's realistic\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Consider talking to someone you trust about your concerns\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'disgusted' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Remove yourself from the situation if possible\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Focus on neutral or pleasant sensory experiences\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Consider if this reaction is providing useful information\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'excited' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Channel your energy into productive activities\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Share your enthusiasm with others\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Make plans to maintain this positive momentum\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'content' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Take time to appreciate this balanced emotional state\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Notice what factors contribute to your contentment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Consider journaling about what brings you peace\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), !['happy', 'sad', 'angry', 'neutral', 'surprised', 'fearful', 'disgusted', 'excited', 'content'].includes(emotionResult.final) && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Take time to acknowledge and process your emotions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), (emotionResult === null || emotionResult === void 0 ? void 0 : emotionResult.final) && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(OnlineCourseRecommendations, {\n                emotion: emotionResult.final\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 21\n              }, this)\n            }, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 h-full flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-[#66FCF1] mb-3\",\n              children: \"Notes (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: notes,\n              onChange: e => setNotes(e.target.value),\n              placeholder: \"Add any notes about your current mood or situation...\",\n              className: \"flex-grow bg-[#0B0C10] text-[#CFC6C7] p-3 rounded-lg resize-none focus:outline-none focus:ring-1 focus:ring-[#66FCF1]\",\n              disabled: isRecording || isUploading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-center gap-3 mb-8\",\n        children: [!isRecording && !isUploading && !recordingComplete && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: startCountdown,\n          className: \"flex items-center bg-[#66FCF1] text-[#0B0C10] px-4 py-2 rounded-lg hover:bg-[#45A29E] transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5 mr-2\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            \"aria-hidden\": \"true\",\n            title: \"Record icon\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"4\",\n              fill: \"currentColor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 15\n          }, this), \"Start Recording\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 13\n        }, this), isRecording && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: stopRecording,\n          className: \"flex items-center bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5 mr-2\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            \"aria-hidden\": \"true\",\n            title: \"Stop icon\",\n            children: /*#__PURE__*/_jsxDEV(\"rect\", {\n              x: \"6\",\n              y: \"6\",\n              width: \"12\",\n              height: \"12\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this), \"Stop Recording\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 13\n        }, this), (recordingComplete || emotionResult) && !isUploading && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: resetAnalysis,\n          className: \"flex items-center bg-[#1F2833] text-[#CFC6C7] px-4 py-2 rounded-lg hover:bg-[#0B0C10] transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5 mr-2\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            \"aria-hidden\": \"true\",\n            title: \"Reset icon\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 15\n          }, this), \"New Analysis\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this), isUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center bg-[#1F2833] text-[#CFC6C7] px-4 py-2 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"animate-spin h-5 w-5 mr-2\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              className: \"opacity-25\",\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\",\n              stroke: \"currentColor\",\n              strokeWidth: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              className: \"opacity-75\",\n              fill: \"currentColor\",\n              d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this), \"Analyzing Video...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-[#1F2833] p-4 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-[#66FCF1] mb-3\",\n          children: \"How It Works\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"list-decimal list-inside space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Click \\\"Start Recording\\\" to begin a short video recording (max 15 seconds)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Speak naturally and express your thoughts or feelings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Our AI will analyze your facial expressions and voice tone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"View your emotion analysis results and personalized recommendations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3 text-sm text-gray-400\",\n          children: \"Note: Your privacy is important to us. Videos are processed securely and not stored after analysis.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 338,\n    columnNumber: 5\n  }, this);\n};\n_s(EmotionAnalysis, \"VsUSEX1428y3yavaPcmPudz9cho=\");\n_c = EmotionAnalysis;\nexport default EmotionAnalysis;\nvar _c;\n$RefreshReg$(_c, \"EmotionAnalysis\");","map":{"version":3,"names":["React","useState","useRef","useEffect","auth","EmotionBasedRecommendations","OnlineCourseRecommendations","jsxDEV","_jsxDEV","Fragment","_Fragment","EmotionAnalysis","_s","isRecording","setIsRecording","recordingComplete","setRecordingComplete","recordingDuration","setRecordingDuration","emotionResult","setEmotionResult","isUploading","setIsUploading","error","setError","user","setUser","notes","setNotes","countdown","setCountdown","isCountingDown","setIsCountingDown","videoRef","mediaRecorderRef","mediaChunksRef","mediaStreamRef","timerRef","MAX_RECORDING_DURATION","API_URL","process","env","REACT_APP_API_URL","console","log","unsubscribe","onAuthStateChanged","currentUser","current","getTracks","forEach","track","stop","clearInterval","startCountdown","countdownInterval","setInterval","prevCount","startRecording","stream","navigator","mediaDevices","getUserMedia","video","audio","srcObject","MediaRecorder","ondataavailable","event","data","size","push","onstop","mediaBlob","Blob","type","uploadVideoForAnalysis","start","prev","newDuration","stopRecording","err","videoFile","File","formData","FormData","append","setTimeout","mockEmotions","getWeightedEmotion","weights","random","Math","cumulativeWeight","emotion","weight","Object","entries","videoEmotion","audioEmotion","finalEmotion","includes","mockResult","final","blog_post","message","resetAnalysis","startCamera","formatTime","seconds","mins","floor","toString","padStart","secs","getEmotionColor","emotionColors","happy","sad","angry","neutral","surprised","fearful","disgusted","excited","content","toLowerCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","playsInline","muted","value","onChange","e","target","placeholder","disabled","onClick","xmlns","fill","viewBox","stroke","title","cx","cy","r","strokeWidth","x","y","width","height","strokeLinecap","strokeLinejoin","d","_c","$RefreshReg$"],"sources":["F:/Symbtest/src/pages/EmotionAnalysis.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { auth } from '../firebase';\nimport EmotionBasedRecommendations from '../components/EmotionBasedRecommendations';\nimport OnlineCourseRecommendations from '../components/OnlineCourseRecommendations';\n\nconst EmotionAnalysis = () => {\n  // State variables\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingComplete, setRecordingComplete] = useState(false);\n  const [recordingDuration, setRecordingDuration] = useState(0);\n  const [emotionResult, setEmotionResult] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState('');\n  const [user, setUser] = useState(null);\n  const [notes, setNotes] = useState('');\n  const [countdown, setCountdown] = useState(3);\n  const [isCountingDown, setIsCountingDown] = useState(false);\n\n  // Refs\n  const videoRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const mediaChunksRef = useRef([]);\n  const mediaStreamRef = useRef(null);\n  const timerRef = useRef(null);\n\n  // Constants\n  const MAX_RECORDING_DURATION = 15; // seconds\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n  console.log('Using API URL:', API_URL); // Debug log\n\n  // Check if user is authenticated\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((currentUser) => {\n      if (currentUser) {\n        setUser(currentUser);\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  // Clean up on component unmount\n  useEffect(() => {\n    return () => {\n      if (mediaStreamRef.current) {\n        mediaStreamRef.current.getTracks().forEach(track => track.stop());\n      }\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, []);\n\n  // Start countdown before recording\n  const startCountdown = () => {\n    setIsCountingDown(true);\n    setCountdown(3);\n\n    const countdownInterval = setInterval(() => {\n      setCountdown(prevCount => {\n        if (prevCount <= 1) {\n          clearInterval(countdownInterval);\n          setIsCountingDown(false);\n          startRecording();\n          return 0;\n        }\n        return prevCount - 1;\n      });\n    }, 1000);\n  };\n\n  // Start recording video\n  const startRecording = async () => {\n    try {\n      setError('');\n      setRecordingComplete(false);\n      setEmotionResult(null);\n\n      // Request camera and microphone access\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      });\n\n      mediaStreamRef.current = stream;\n\n      // Display video preview\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n\n      // Initialize MediaRecorder\n      mediaRecorderRef.current = new MediaRecorder(stream);\n      mediaChunksRef.current = [];\n\n      // Collect video data\n      mediaRecorderRef.current.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          mediaChunksRef.current.push(event.data);\n        }\n      };\n\n      // Handle recording stop\n      mediaRecorderRef.current.onstop = () => {\n        const mediaBlob = new Blob(mediaChunksRef.current, { type: 'video/webm' });\n        uploadVideoForAnalysis(mediaBlob);\n      };\n\n      // Start recording\n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n      setRecordingDuration(0);\n\n      // Set up timer to track recording duration\n      timerRef.current = setInterval(() => {\n        setRecordingDuration(prev => {\n          const newDuration = prev + 1;\n\n          // Automatically stop recording after MAX_RECORDING_DURATION\n          if (newDuration >= MAX_RECORDING_DURATION) {\n            stopRecording();\n          }\n\n          return newDuration;\n        });\n      }, 1000);\n\n    } catch (err) {\n      console.error('Error starting recording:', err);\n      setError('Failed to access camera and microphone. Please ensure you have granted the necessary permissions.');\n    }\n  };\n\n  // Stop recording\n  const stopRecording = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      setRecordingComplete(true);\n    }\n  };\n\n  // Upload video for emotion analysis\n  const uploadVideoForAnalysis = async (mediaBlob) => {\n    try {\n      setIsUploading(true);\n      setError('');\n\n      console.log('Creating video file from blob...');\n      const videoFile = new File([mediaBlob], 'emotion_analysis.webm', {\n        type: 'video/webm'\n      });\n\n      console.log('Preparing form data...');\n      const formData = new FormData();\n      formData.append('file', videoFile);\n      formData.append('blog_post', notes);\n\n      console.log(`Sending request to ${API_URL}/upload-video-and-blog/...`);\n\n      // For demo purposes, let's simulate a successful response\n      // This will be replaced with actual API call when backend is ready\n      setTimeout(() => {\n        // Enhanced mock emotion analysis with more varied results\n        const mockEmotions = [\n          \"happy\", \"sad\", \"angry\", \"neutral\", \"surprised\", \"fearful\", \"disgusted\", \"excited\", \"content\"\n        ];\n\n        // Weighted emotion selection - make some emotions more likely based on facial expressions\n        const getWeightedEmotion = () => {\n          // This simulates analyzing facial features in the video\n          // In a real implementation, this would be done by ML models\n          const weights = {\n            \"happy\": 0.25,    // Common emotion\n            \"neutral\": 0.20,  // Common emotion\n            \"sad\": 0.15,      // Somewhat common\n            \"surprised\": 0.10,\n            \"angry\": 0.10,\n            \"content\": 0.08,\n            \"excited\": 0.05,\n            \"fearful\": 0.04,\n            \"disgusted\": 0.03 // Rare emotion\n          };\n\n          // Random number between 0 and 1\n          const random = Math.random();\n          let cumulativeWeight = 0;\n\n          // Select emotion based on weight\n          for (const [emotion, weight] of Object.entries(weights)) {\n            cumulativeWeight += weight;\n            if (random <= cumulativeWeight) {\n              return emotion;\n            }\n          }\n\n          // Fallback\n          return \"neutral\";\n        };\n\n        // Get emotions for video and audio\n        const videoEmotion = getWeightedEmotion();\n        const audioEmotion = getWeightedEmotion();\n\n        // More sophisticated emotion fusion algorithm\n        // In real implementation, this would consider confidence scores and context\n        let finalEmotion;\n\n        // If both emotions match, that's definitely the final emotion\n        if (videoEmotion === audioEmotion) {\n          finalEmotion = videoEmotion;\n        }\n        // If audio detects strong emotions, prioritize those\n        else if ([\"sad\", \"angry\", \"fearful\"].includes(audioEmotion)) {\n          finalEmotion = audioEmotion;\n        }\n        // If video shows strong emotions, prioritize those\n        else if ([\"happy\", \"surprised\", \"excited\"].includes(videoEmotion)) {\n          finalEmotion = videoEmotion;\n        }\n        // Default to video emotion in other cases\n        else {\n          finalEmotion = videoEmotion;\n        }\n\n        const mockResult = {\n          emotion: {\n            video: videoEmotion,\n            audio: audioEmotion,\n            final: finalEmotion\n          },\n          blog_post: notes\n        };\n\n        console.log('Mock emotion analysis result:', mockResult);\n        setEmotionResult(mockResult.emotion);\n        setIsUploading(false);\n      }, 2000);\n\n      /* Uncomment this when backend is ready\n      // Now send the actual request\n      const response = await fetch(`${API_URL}/upload-video-and-blog/`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      console.log('Response status:', response.status);\n\n      if (!response.ok) {\n        throw new Error(`Server responded with status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      console.log('Emotion analysis result:', result);\n\n      // Process and display the emotion result\n      if (result.emotion) {\n        setEmotionResult(result.emotion);\n      } else {\n        setError('No emotion data received from the server.');\n      }\n      */\n\n    } catch (err) {\n      console.error('Error uploading video:', err);\n      setError(`Failed to analyze video: ${err.message}`);\n      setIsUploading(false);\n    }\n  };\n\n  // Reset the component state\n  const resetAnalysis = () => {\n    if (mediaStreamRef.current) {\n      mediaStreamRef.current.getTracks().forEach(track => track.stop());\n    }\n\n    setIsRecording(false);\n    setRecordingComplete(false);\n    setRecordingDuration(0);\n    setEmotionResult(null);\n    setIsUploading(false);\n    setError('');\n    setNotes('');\n\n    // Restart camera preview\n    startCamera();\n  };\n\n  // Start camera without recording\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: false\n      });\n\n      mediaStreamRef.current = stream;\n\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setError('Failed to access camera. Please ensure you have granted the necessary permissions.');\n    }\n  };\n\n  // Format time as MM:SS\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60).toString().padStart(2, '0');\n    const secs = (seconds % 60).toString().padStart(2, '0');\n    return `${mins}:${secs}`;\n  };\n\n  // Get emotion color based on detected emotion\n  const getEmotionColor = (emotion) => {\n    const emotionColors = {\n      happy: 'bg-green-500',      // Green for happy\n      sad: 'bg-blue-500',         // Blue for sad\n      angry: 'bg-red-500',        // Red for angry\n      neutral: 'bg-gray-500',     // Gray for neutral\n      surprised: 'bg-purple-500', // Purple for surprised\n      fearful: 'bg-yellow-500',   // Yellow for fearful\n      disgusted: 'bg-orange-500', // Orange for disgusted\n      excited: 'bg-pink-500',     // Pink for excited\n      content: 'bg-teal-500'      // Teal for content\n    };\n\n    // Convert to lowercase and find matching color, default to gray if not found\n    return emotionColors[emotion?.toLowerCase()] || 'bg-gray-500';\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#0B0C10] text-[#CFC6C7]\">\n      <div className=\"max-w-4xl mx-auto p-4\">\n        <h1 className=\"text-3xl font-bold text-[#66FCF1] mb-6\">AI Emotion Analysis</h1>\n\n        {error && (\n          <div className=\"bg-red-500 text-white p-3 rounded-lg mb-4\">\n            {error}\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n          {/* Video preview */}\n          <div className=\"bg-[#1F2833] rounded-lg overflow-hidden\">\n            <div className=\"relative aspect-video bg-black\">\n              {isCountingDown && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10\">\n                  <div className=\"text-6xl font-bold text-white\">{countdown}</div>\n                </div>\n              )}\n\n              <video\n                ref={videoRef}\n                autoPlay\n                playsInline\n                muted\n                className=\"w-full h-full object-cover\"\n              />\n\n              {isRecording && (\n                <div className=\"absolute top-2 right-2 flex items-center bg-red-500 text-white px-2 py-1 rounded-lg\">\n                  <div className=\"w-3 h-3 rounded-full bg-white animate-pulse mr-2\"></div>\n                  <span>{formatTime(recordingDuration)} / {formatTime(MAX_RECORDING_DURATION)}</span>\n                </div>\n              )}\n            </div>\n\n            <div className=\"p-3\">\n              <p className=\"font-medium\">Video Feed</p>\n              <p className=\"text-sm text-gray-400\">\n                Record a short video to analyze your emotions\n              </p>\n            </div>\n          </div>\n\n          {/* Results or notes */}\n          <div className=\"bg-[#1F2833] rounded-lg overflow-hidden\">\n            {emotionResult ? (\n              <div className=\"p-4\">\n                <h2 className=\"text-xl font-semibold text-[#66FCF1] mb-3\">Analysis Results</h2>\n\n                <div className=\"mb-4\">\n                  <div className=\"flex items-center mb-2\">\n                    <div className={`w-4 h-4 rounded-full ${getEmotionColor(emotionResult.final)} mr-2`}></div>\n                    <span className=\"font-medium\">Primary Emotion: </span>\n                    <span className=\"ml-2 capitalize\">{emotionResult.final || 'Unknown'}</span>\n                  </div>\n\n                  {emotionResult.video && (\n                    <div className=\"flex items-center mb-2\">\n                      <div className={`w-4 h-4 rounded-full ${getEmotionColor(emotionResult.video)} mr-2`}></div>\n                      <span className=\"font-medium\">Video Analysis: </span>\n                      <span className=\"ml-2 capitalize\">{emotionResult.video}</span>\n                    </div>\n                  )}\n\n                  {emotionResult.audio && (\n                    <div className=\"flex items-center mb-2\">\n                      <div className={`w-4 h-4 rounded-full ${getEmotionColor(emotionResult.audio)} mr-2`}></div>\n                      <span className=\"font-medium\">Audio Analysis: </span>\n                      <span className=\"ml-2 capitalize\">{emotionResult.audio}</span>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"mt-4\">\n                  <h3 className=\"font-medium mb-2\">Recommendations:</h3>\n                  <ul className=\"list-disc list-inside text-sm\">\n                    {emotionResult.final === 'happy' && (\n                      <>\n                        <li>Continue engaging in activities that bring you joy</li>\n                        <li>Share your positive energy with others</li>\n                        <li>Practice gratitude to maintain this positive state</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'sad' && (\n                      <>\n                        <li>Consider talking to someone you trust about your feelings</li>\n                        <li>Engage in gentle self-care activities</li>\n                        <li>Try mindfulness or breathing exercises</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'angry' && (\n                      <>\n                        <li>Take a few deep breaths to calm your nervous system</li>\n                        <li>Consider a short break from the situation if possible</li>\n                        <li>Try physical activity to release tension</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'neutral' && (\n                      <>\n                        <li>Consider activities that might boost your mood</li>\n                        <li>Practice mindfulness to increase emotional awareness</li>\n                        <li>Engage in creative or stimulating activities</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'surprised' && (\n                      <>\n                        <li>Take a moment to process the unexpected information</li>\n                        <li>Consider how this surprise affects your plans</li>\n                        <li>Share your experience with someone if it was significant</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'fearful' && (\n                      <>\n                        <li>Practice deep breathing to calm your nervous system</li>\n                        <li>Identify the source of your fear and assess if it's realistic</li>\n                        <li>Consider talking to someone you trust about your concerns</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'disgusted' && (\n                      <>\n                        <li>Remove yourself from the situation if possible</li>\n                        <li>Focus on neutral or pleasant sensory experiences</li>\n                        <li>Consider if this reaction is providing useful information</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'excited' && (\n                      <>\n                        <li>Channel your energy into productive activities</li>\n                        <li>Share your enthusiasm with others</li>\n                        <li>Make plans to maintain this positive momentum</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'content' && (\n                      <>\n                        <li>Take time to appreciate this balanced emotional state</li>\n                        <li>Notice what factors contribute to your contentment</li>\n                        <li>Consider journaling about what brings you peace</li>\n                      </>\n                    )}\n                    {!['happy', 'sad', 'angry', 'neutral', 'surprised', 'fearful', 'disgusted', 'excited', 'content'].includes(emotionResult.final) && (\n                      <li>Take time to acknowledge and process your emotions</li>\n                    )}\n                  </ul>\n                </div>\n\n                {/* Add course-specific recommendations based on emotion */}\n                {emotionResult?.final && (\n                  <>\n                    {/* Online course recommendations from external APIs */}\n                    <OnlineCourseRecommendations emotion={emotionResult.final} />\n\n                    {/* Local course recommendations (optional - can be removed) */}\n                    {/* <EmotionBasedRecommendations emotion={emotionResult.final} /> */}\n                  </>\n                )}\n              </div>\n            ) : (\n              <div className=\"p-4 h-full flex flex-col\">\n                <h2 className=\"text-xl font-semibold text-[#66FCF1] mb-3\">Notes (Optional)</h2>\n                <textarea\n                  value={notes}\n                  onChange={(e) => setNotes(e.target.value)}\n                  placeholder=\"Add any notes about your current mood or situation...\"\n                  className=\"flex-grow bg-[#0B0C10] text-[#CFC6C7] p-3 rounded-lg resize-none focus:outline-none focus:ring-1 focus:ring-[#66FCF1]\"\n                  disabled={isRecording || isUploading}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Controls */}\n        <div className=\"flex flex-wrap justify-center gap-3 mb-8\">\n          {!isRecording && !isUploading && !recordingComplete && (\n            <button\n              type=\"button\"\n              onClick={startCountdown}\n              className=\"flex items-center bg-[#66FCF1] text-[#0B0C10] px-4 py-2 rounded-lg hover:bg-[#45A29E] transition-colors\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\" title=\"Record icon\">\n                <circle cx=\"12\" cy=\"12\" r=\"10\" strokeWidth=\"2\" />\n                <circle cx=\"12\" cy=\"12\" r=\"4\" fill=\"currentColor\" />\n              </svg>\n              Start Recording\n            </button>\n          )}\n\n          {isRecording && (\n            <button\n              type=\"button\"\n              onClick={stopRecording}\n              className=\"flex items-center bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\" title=\"Stop icon\">\n                <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\" strokeWidth=\"2\" />\n              </svg>\n              Stop Recording\n            </button>\n          )}\n\n          {(recordingComplete || emotionResult) && !isUploading && (\n            <button\n              type=\"button\"\n              onClick={resetAnalysis}\n              className=\"flex items-center bg-[#1F2833] text-[#CFC6C7] px-4 py-2 rounded-lg hover:bg-[#0B0C10] transition-colors\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\" title=\"Reset icon\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n              </svg>\n              New Analysis\n            </button>\n          )}\n\n          {isUploading && (\n            <div className=\"flex items-center bg-[#1F2833] text-[#CFC6C7] px-4 py-2 rounded-lg\">\n              <svg className=\"animate-spin h-5 w-5 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              Analyzing Video...\n            </div>\n          )}\n        </div>\n\n        {/* Instructions */}\n        <div className=\"bg-[#1F2833] p-4 rounded-lg\">\n          <h2 className=\"text-xl font-semibold text-[#66FCF1] mb-3\">How It Works</h2>\n          <ol className=\"list-decimal list-inside space-y-2\">\n            <li>Click \"Start Recording\" to begin a short video recording (max 15 seconds)</li>\n            <li>Speak naturally and express your thoughts or feelings</li>\n            <li>Our AI will analyze your facial expressions and voice tone</li>\n            <li>View your emotion analysis results and personalized recommendations</li>\n          </ol>\n          <p className=\"mt-3 text-sm text-gray-400\">\n            Note: Your privacy is important to us. Videos are processed securely and not stored after analysis.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EmotionAnalysis;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}