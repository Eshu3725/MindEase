{"ast":null,"code":"var _jsxFileName = \"F:\\\\Symbtest\\\\src\\\\pages\\\\EmotionAnalysis.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { auth } from '../firebase';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EmotionAnalysis = () => {\n  _s();\n  // State variables\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingComplete, setRecordingComplete] = useState(false);\n  const [recordingDuration, setRecordingDuration] = useState(0);\n  const [emotionResult, setEmotionResult] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState('');\n  const [user, setUser] = useState(null);\n  const [notes, setNotes] = useState('');\n  const [countdown, setCountdown] = useState(3);\n  const [isCountingDown, setIsCountingDown] = useState(false);\n\n  // Refs\n  const videoRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const mediaChunksRef = useRef([]);\n  const mediaStreamRef = useRef(null);\n  const timerRef = useRef(null);\n\n  // Constants\n  const MAX_RECORDING_DURATION = 15; // seconds\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n  console.log('Using API URL:', API_URL); // Debug log\n\n  // Check if user is authenticated\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(currentUser => {\n      if (currentUser) {\n        setUser(currentUser);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Clean up on component unmount\n  useEffect(() => {\n    return () => {\n      if (mediaStreamRef.current) {\n        mediaStreamRef.current.getTracks().forEach(track => track.stop());\n      }\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, []);\n\n  // Start countdown before recording\n  const startCountdown = () => {\n    setIsCountingDown(true);\n    setCountdown(3);\n    const countdownInterval = setInterval(() => {\n      setCountdown(prevCount => {\n        if (prevCount <= 1) {\n          clearInterval(countdownInterval);\n          setIsCountingDown(false);\n          startRecording();\n          return 0;\n        }\n        return prevCount - 1;\n      });\n    }, 1000);\n  };\n\n  // Start recording video\n  const startRecording = async () => {\n    try {\n      setError('');\n      setRecordingComplete(false);\n      setEmotionResult(null);\n\n      // Request camera and microphone access\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      });\n      mediaStreamRef.current = stream;\n\n      // Display video preview\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n\n      // Initialize MediaRecorder\n      mediaRecorderRef.current = new MediaRecorder(stream);\n      mediaChunksRef.current = [];\n\n      // Collect video data\n      mediaRecorderRef.current.ondataavailable = event => {\n        if (event.data.size > 0) {\n          mediaChunksRef.current.push(event.data);\n        }\n      };\n\n      // Handle recording stop\n      mediaRecorderRef.current.onstop = () => {\n        const mediaBlob = new Blob(mediaChunksRef.current, {\n          type: 'video/webm'\n        });\n        uploadVideoForAnalysis(mediaBlob);\n      };\n\n      // Start recording\n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n      setRecordingDuration(0);\n\n      // Set up timer to track recording duration\n      timerRef.current = setInterval(() => {\n        setRecordingDuration(prev => {\n          const newDuration = prev + 1;\n\n          // Automatically stop recording after MAX_RECORDING_DURATION\n          if (newDuration >= MAX_RECORDING_DURATION) {\n            stopRecording();\n          }\n          return newDuration;\n        });\n      }, 1000);\n    } catch (err) {\n      console.error('Error starting recording:', err);\n      setError('Failed to access camera and microphone. Please ensure you have granted the necessary permissions.');\n    }\n  };\n\n  // Stop recording\n  const stopRecording = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      setRecordingComplete(true);\n    }\n  };\n\n  // Upload video for emotion analysis\n  const uploadVideoForAnalysis = async mediaBlob => {\n    try {\n      setIsUploading(true);\n      setError('');\n      console.log('Creating video file from blob...');\n      const videoFile = new File([mediaBlob], 'emotion_analysis.webm', {\n        type: 'video/webm'\n      });\n      console.log('Preparing form data...');\n      const formData = new FormData();\n      formData.append('file', videoFile);\n      formData.append('blog_post', notes);\n      console.log(`Sending request to ${API_URL}/upload-video-and-blog/...`);\n\n      // Check if server is reachable first\n      try {\n        const pingResponse = await fetch(`${API_URL}`, {\n          method: 'GET',\n          mode: 'no-cors',\n          cache: 'no-cache',\n          headers: {\n            'Accept': 'application/json'\n          }\n        });\n        console.log('Server ping response:', pingResponse);\n      } catch (pingErr) {\n        console.error('Server ping failed:', pingErr);\n        throw new Error('Cannot connect to the server. Please check if the backend is running.');\n      }\n\n      // Now send the actual request\n      const response = await fetch(`${API_URL}/upload-video-and-blog/`, {\n        method: 'POST',\n        body: formData\n      });\n      console.log('Response status:', response.status);\n      if (!response.ok) {\n        throw new Error(`Server responded with status: ${response.status}`);\n      }\n      const result = await response.json();\n      console.log('Emotion analysis result:', result);\n\n      // Process and display the emotion result\n      if (result.emotion) {\n        setEmotionResult(result.emotion);\n      } else {\n        setError('No emotion data received from the server.');\n      }\n    } catch (err) {\n      console.error('Error uploading video:', err);\n      setError(`Failed to analyze video: ${err.message}`);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  // Reset the component state\n  const resetAnalysis = () => {\n    if (mediaStreamRef.current) {\n      mediaStreamRef.current.getTracks().forEach(track => track.stop());\n    }\n    setIsRecording(false);\n    setRecordingComplete(false);\n    setRecordingDuration(0);\n    setEmotionResult(null);\n    setIsUploading(false);\n    setError('');\n    setNotes('');\n\n    // Restart camera preview\n    startCamera();\n  };\n\n  // Start camera without recording\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: false\n      });\n      mediaStreamRef.current = stream;\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setError('Failed to access camera. Please ensure you have granted the necessary permissions.');\n    }\n  };\n\n  // Format time as MM:SS\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60).toString().padStart(2, '0');\n    const secs = (seconds % 60).toString().padStart(2, '0');\n    return `${mins}:${secs}`;\n  };\n\n  // Get emotion color based on detected emotion\n  const getEmotionColor = emotion => {\n    const emotionColors = {\n      happy: 'bg-green-500',\n      sad: 'bg-blue-500',\n      angry: 'bg-red-500',\n      neutral: 'bg-gray-500',\n      surprised: 'bg-purple-500',\n      fearful: 'bg-yellow-500',\n      disgusted: 'bg-orange-500'\n    };\n    return emotionColors[emotion === null || emotion === void 0 ? void 0 : emotion.toLowerCase()] || 'bg-gray-500';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-[#0B0C10] text-[#CFC6C7]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-[#66FCF1] mb-6\",\n        children: \"AI Emotion Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-500 text-white p-3 rounded-lg mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#1F2833] rounded-lg overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative aspect-video bg-black\",\n            children: [isCountingDown && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-6xl font-bold text-white\",\n                children: countdown\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n              ref: videoRef,\n              autoPlay: true,\n              playsInline: true,\n              muted: true,\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-2 right-2 flex items-center bg-red-500 text-white px-2 py-1 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 rounded-full bg-white animate-pulse mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [formatTime(recordingDuration), \" / \", formatTime(MAX_RECORDING_DURATION)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: \"Video Feed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400\",\n              children: \"Record a short video to analyze your emotions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#1F2833] rounded-lg overflow-hidden\",\n          children: emotionResult ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-[#66FCF1] mb-3\",\n              children: \"Analysis Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-4 h-4 rounded-full ${getEmotionColor(emotionResult.final)} mr-2`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Primary Emotion: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 capitalize\",\n                  children: emotionResult.final || 'Unknown'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this), emotionResult.video && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-4 h-4 rounded-full ${getEmotionColor(emotionResult.video)} mr-2`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Video Analysis: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 capitalize\",\n                  children: emotionResult.video\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 21\n              }, this), emotionResult.audio && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-4 h-4 rounded-full ${getEmotionColor(emotionResult.audio)} mr-2`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Audio Analysis: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 capitalize\",\n                  children: emotionResult.audio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium mb-2\",\n                children: \"Recommendations:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-disc list-inside text-sm\",\n                children: [emotionResult.final === 'happy' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Continue engaging in activities that bring you joy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Share your positive energy with others\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Practice gratitude to maintain this positive state\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'sad' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Consider talking to someone you trust about your feelings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Engage in gentle self-care activities\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Try mindfulness or breathing exercises\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'angry' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Take a few deep breaths to calm your nervous system\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Consider a short break from the situation if possible\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Try physical activity to release tension\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), emotionResult.final === 'neutral' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Consider activities that might boost your mood\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Practice mindfulness to increase emotional awareness\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Engage in creative or stimulating activities\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), !['happy', 'sad', 'angry', 'neutral'].includes(emotionResult.final) && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Take time to acknowledge and process your emotions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 h-full flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-[#66FCF1] mb-3\",\n              children: \"Notes (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: notes,\n              onChange: e => setNotes(e.target.value),\n              placeholder: \"Add any notes about your current mood or situation...\",\n              className: \"flex-grow bg-[#0B0C10] text-[#CFC6C7] p-3 rounded-lg resize-none focus:outline-none focus:ring-1 focus:ring-[#66FCF1]\",\n              disabled: isRecording || isUploading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-center gap-3 mb-8\",\n        children: [!isRecording && !isUploading && !recordingComplete && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: startCountdown,\n          className: \"flex items-center bg-[#66FCF1] text-[#0B0C10] px-4 py-2 rounded-lg hover:bg-[#45A29E] transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5 mr-2\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            \"aria-hidden\": \"true\",\n            title: \"Record icon\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"4\",\n              fill: \"currentColor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), \"Start Recording\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this), isRecording && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: stopRecording,\n          className: \"flex items-center bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5 mr-2\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            \"aria-hidden\": \"true\",\n            title: \"Stop icon\",\n            children: /*#__PURE__*/_jsxDEV(\"rect\", {\n              x: \"6\",\n              y: \"6\",\n              width: \"12\",\n              height: \"12\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this), \"Stop Recording\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this), (recordingComplete || emotionResult) && !isUploading && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: resetAnalysis,\n          className: \"flex items-center bg-[#1F2833] text-[#CFC6C7] px-4 py-2 rounded-lg hover:bg-[#0B0C10] transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5 mr-2\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            \"aria-hidden\": \"true\",\n            title: \"Reset icon\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), \"New Analysis\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this), isUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center bg-[#1F2833] text-[#CFC6C7] px-4 py-2 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"animate-spin h-5 w-5 mr-2\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              className: \"opacity-25\",\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\",\n              stroke: \"currentColor\",\n              strokeWidth: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              className: \"opacity-75\",\n              fill: \"currentColor\",\n              d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this), \"Analyzing Video...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-[#1F2833] p-4 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-[#66FCF1] mb-3\",\n          children: \"How It Works\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"list-decimal list-inside space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Click \\\"Start Recording\\\" to begin a short video recording (max 15 seconds)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Speak naturally and express your thoughts or feelings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Our AI will analyze your facial expressions and voice tone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"View your emotion analysis results and personalized recommendations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3 text-sm text-gray-400\",\n          children: \"Note: Your privacy is important to us. Videos are processed securely and not stored after analysis.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 5\n  }, this);\n};\n_s(EmotionAnalysis, \"VsUSEX1428y3yavaPcmPudz9cho=\");\n_c = EmotionAnalysis;\nexport default EmotionAnalysis;\nvar _c;\n$RefreshReg$(_c, \"EmotionAnalysis\");","map":{"version":3,"names":["React","useState","useRef","useEffect","auth","jsxDEV","_jsxDEV","Fragment","_Fragment","EmotionAnalysis","_s","isRecording","setIsRecording","recordingComplete","setRecordingComplete","recordingDuration","setRecordingDuration","emotionResult","setEmotionResult","isUploading","setIsUploading","error","setError","user","setUser","notes","setNotes","countdown","setCountdown","isCountingDown","setIsCountingDown","videoRef","mediaRecorderRef","mediaChunksRef","mediaStreamRef","timerRef","MAX_RECORDING_DURATION","API_URL","process","env","REACT_APP_API_URL","console","log","unsubscribe","onAuthStateChanged","currentUser","current","getTracks","forEach","track","stop","clearInterval","startCountdown","countdownInterval","setInterval","prevCount","startRecording","stream","navigator","mediaDevices","getUserMedia","video","audio","srcObject","MediaRecorder","ondataavailable","event","data","size","push","onstop","mediaBlob","Blob","type","uploadVideoForAnalysis","start","prev","newDuration","stopRecording","err","videoFile","File","formData","FormData","append","pingResponse","fetch","method","mode","cache","headers","pingErr","Error","response","body","status","ok","result","json","emotion","message","resetAnalysis","startCamera","formatTime","seconds","mins","Math","floor","toString","padStart","secs","getEmotionColor","emotionColors","happy","sad","angry","neutral","surprised","fearful","disgusted","toLowerCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","playsInline","muted","final","includes","value","onChange","e","target","placeholder","disabled","onClick","xmlns","fill","viewBox","stroke","title","cx","cy","r","strokeWidth","x","y","width","height","strokeLinecap","strokeLinejoin","d","_c","$RefreshReg$"],"sources":["F:/Symbtest/src/pages/EmotionAnalysis.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { auth } from '../firebase';\n\nconst EmotionAnalysis = () => {\n  // State variables\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingComplete, setRecordingComplete] = useState(false);\n  const [recordingDuration, setRecordingDuration] = useState(0);\n  const [emotionResult, setEmotionResult] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState('');\n  const [user, setUser] = useState(null);\n  const [notes, setNotes] = useState('');\n  const [countdown, setCountdown] = useState(3);\n  const [isCountingDown, setIsCountingDown] = useState(false);\n\n  // Refs\n  const videoRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const mediaChunksRef = useRef([]);\n  const mediaStreamRef = useRef(null);\n  const timerRef = useRef(null);\n\n  // Constants\n  const MAX_RECORDING_DURATION = 15; // seconds\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n  console.log('Using API URL:', API_URL); // Debug log\n\n  // Check if user is authenticated\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((currentUser) => {\n      if (currentUser) {\n        setUser(currentUser);\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  // Clean up on component unmount\n  useEffect(() => {\n    return () => {\n      if (mediaStreamRef.current) {\n        mediaStreamRef.current.getTracks().forEach(track => track.stop());\n      }\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, []);\n\n  // Start countdown before recording\n  const startCountdown = () => {\n    setIsCountingDown(true);\n    setCountdown(3);\n\n    const countdownInterval = setInterval(() => {\n      setCountdown(prevCount => {\n        if (prevCount <= 1) {\n          clearInterval(countdownInterval);\n          setIsCountingDown(false);\n          startRecording();\n          return 0;\n        }\n        return prevCount - 1;\n      });\n    }, 1000);\n  };\n\n  // Start recording video\n  const startRecording = async () => {\n    try {\n      setError('');\n      setRecordingComplete(false);\n      setEmotionResult(null);\n\n      // Request camera and microphone access\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      });\n\n      mediaStreamRef.current = stream;\n\n      // Display video preview\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n\n      // Initialize MediaRecorder\n      mediaRecorderRef.current = new MediaRecorder(stream);\n      mediaChunksRef.current = [];\n\n      // Collect video data\n      mediaRecorderRef.current.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          mediaChunksRef.current.push(event.data);\n        }\n      };\n\n      // Handle recording stop\n      mediaRecorderRef.current.onstop = () => {\n        const mediaBlob = new Blob(mediaChunksRef.current, { type: 'video/webm' });\n        uploadVideoForAnalysis(mediaBlob);\n      };\n\n      // Start recording\n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n      setRecordingDuration(0);\n\n      // Set up timer to track recording duration\n      timerRef.current = setInterval(() => {\n        setRecordingDuration(prev => {\n          const newDuration = prev + 1;\n\n          // Automatically stop recording after MAX_RECORDING_DURATION\n          if (newDuration >= MAX_RECORDING_DURATION) {\n            stopRecording();\n          }\n\n          return newDuration;\n        });\n      }, 1000);\n\n    } catch (err) {\n      console.error('Error starting recording:', err);\n      setError('Failed to access camera and microphone. Please ensure you have granted the necessary permissions.');\n    }\n  };\n\n  // Stop recording\n  const stopRecording = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      setRecordingComplete(true);\n    }\n  };\n\n  // Upload video for emotion analysis\n  const uploadVideoForAnalysis = async (mediaBlob) => {\n    try {\n      setIsUploading(true);\n      setError('');\n\n      console.log('Creating video file from blob...');\n      const videoFile = new File([mediaBlob], 'emotion_analysis.webm', {\n        type: 'video/webm'\n      });\n\n      console.log('Preparing form data...');\n      const formData = new FormData();\n      formData.append('file', videoFile);\n      formData.append('blog_post', notes);\n\n      console.log(`Sending request to ${API_URL}/upload-video-and-blog/...`);\n\n      // Check if server is reachable first\n      try {\n        const pingResponse = await fetch(`${API_URL}`, {\n          method: 'GET',\n          mode: 'no-cors',\n          cache: 'no-cache',\n          headers: {\n            'Accept': 'application/json',\n          },\n        });\n        console.log('Server ping response:', pingResponse);\n      } catch (pingErr) {\n        console.error('Server ping failed:', pingErr);\n        throw new Error('Cannot connect to the server. Please check if the backend is running.');\n      }\n\n      // Now send the actual request\n      const response = await fetch(`${API_URL}/upload-video-and-blog/`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      console.log('Response status:', response.status);\n\n      if (!response.ok) {\n        throw new Error(`Server responded with status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      console.log('Emotion analysis result:', result);\n\n      // Process and display the emotion result\n      if (result.emotion) {\n        setEmotionResult(result.emotion);\n      } else {\n        setError('No emotion data received from the server.');\n      }\n\n    } catch (err) {\n      console.error('Error uploading video:', err);\n      setError(`Failed to analyze video: ${err.message}`);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  // Reset the component state\n  const resetAnalysis = () => {\n    if (mediaStreamRef.current) {\n      mediaStreamRef.current.getTracks().forEach(track => track.stop());\n    }\n\n    setIsRecording(false);\n    setRecordingComplete(false);\n    setRecordingDuration(0);\n    setEmotionResult(null);\n    setIsUploading(false);\n    setError('');\n    setNotes('');\n\n    // Restart camera preview\n    startCamera();\n  };\n\n  // Start camera without recording\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: false\n      });\n\n      mediaStreamRef.current = stream;\n\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setError('Failed to access camera. Please ensure you have granted the necessary permissions.');\n    }\n  };\n\n  // Format time as MM:SS\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60).toString().padStart(2, '0');\n    const secs = (seconds % 60).toString().padStart(2, '0');\n    return `${mins}:${secs}`;\n  };\n\n  // Get emotion color based on detected emotion\n  const getEmotionColor = (emotion) => {\n    const emotionColors = {\n      happy: 'bg-green-500',\n      sad: 'bg-blue-500',\n      angry: 'bg-red-500',\n      neutral: 'bg-gray-500',\n      surprised: 'bg-purple-500',\n      fearful: 'bg-yellow-500',\n      disgusted: 'bg-orange-500'\n    };\n\n    return emotionColors[emotion?.toLowerCase()] || 'bg-gray-500';\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#0B0C10] text-[#CFC6C7]\">\n      <div className=\"max-w-4xl mx-auto p-4\">\n        <h1 className=\"text-3xl font-bold text-[#66FCF1] mb-6\">AI Emotion Analysis</h1>\n\n        {error && (\n          <div className=\"bg-red-500 text-white p-3 rounded-lg mb-4\">\n            {error}\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n          {/* Video preview */}\n          <div className=\"bg-[#1F2833] rounded-lg overflow-hidden\">\n            <div className=\"relative aspect-video bg-black\">\n              {isCountingDown && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10\">\n                  <div className=\"text-6xl font-bold text-white\">{countdown}</div>\n                </div>\n              )}\n\n              <video\n                ref={videoRef}\n                autoPlay\n                playsInline\n                muted\n                className=\"w-full h-full object-cover\"\n              />\n\n              {isRecording && (\n                <div className=\"absolute top-2 right-2 flex items-center bg-red-500 text-white px-2 py-1 rounded-lg\">\n                  <div className=\"w-3 h-3 rounded-full bg-white animate-pulse mr-2\"></div>\n                  <span>{formatTime(recordingDuration)} / {formatTime(MAX_RECORDING_DURATION)}</span>\n                </div>\n              )}\n            </div>\n\n            <div className=\"p-3\">\n              <p className=\"font-medium\">Video Feed</p>\n              <p className=\"text-sm text-gray-400\">\n                Record a short video to analyze your emotions\n              </p>\n            </div>\n          </div>\n\n          {/* Results or notes */}\n          <div className=\"bg-[#1F2833] rounded-lg overflow-hidden\">\n            {emotionResult ? (\n              <div className=\"p-4\">\n                <h2 className=\"text-xl font-semibold text-[#66FCF1] mb-3\">Analysis Results</h2>\n\n                <div className=\"mb-4\">\n                  <div className=\"flex items-center mb-2\">\n                    <div className={`w-4 h-4 rounded-full ${getEmotionColor(emotionResult.final)} mr-2`}></div>\n                    <span className=\"font-medium\">Primary Emotion: </span>\n                    <span className=\"ml-2 capitalize\">{emotionResult.final || 'Unknown'}</span>\n                  </div>\n\n                  {emotionResult.video && (\n                    <div className=\"flex items-center mb-2\">\n                      <div className={`w-4 h-4 rounded-full ${getEmotionColor(emotionResult.video)} mr-2`}></div>\n                      <span className=\"font-medium\">Video Analysis: </span>\n                      <span className=\"ml-2 capitalize\">{emotionResult.video}</span>\n                    </div>\n                  )}\n\n                  {emotionResult.audio && (\n                    <div className=\"flex items-center mb-2\">\n                      <div className={`w-4 h-4 rounded-full ${getEmotionColor(emotionResult.audio)} mr-2`}></div>\n                      <span className=\"font-medium\">Audio Analysis: </span>\n                      <span className=\"ml-2 capitalize\">{emotionResult.audio}</span>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"mt-4\">\n                  <h3 className=\"font-medium mb-2\">Recommendations:</h3>\n                  <ul className=\"list-disc list-inside text-sm\">\n                    {emotionResult.final === 'happy' && (\n                      <>\n                        <li>Continue engaging in activities that bring you joy</li>\n                        <li>Share your positive energy with others</li>\n                        <li>Practice gratitude to maintain this positive state</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'sad' && (\n                      <>\n                        <li>Consider talking to someone you trust about your feelings</li>\n                        <li>Engage in gentle self-care activities</li>\n                        <li>Try mindfulness or breathing exercises</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'angry' && (\n                      <>\n                        <li>Take a few deep breaths to calm your nervous system</li>\n                        <li>Consider a short break from the situation if possible</li>\n                        <li>Try physical activity to release tension</li>\n                      </>\n                    )}\n                    {emotionResult.final === 'neutral' && (\n                      <>\n                        <li>Consider activities that might boost your mood</li>\n                        <li>Practice mindfulness to increase emotional awareness</li>\n                        <li>Engage in creative or stimulating activities</li>\n                      </>\n                    )}\n                    {!['happy', 'sad', 'angry', 'neutral'].includes(emotionResult.final) && (\n                      <li>Take time to acknowledge and process your emotions</li>\n                    )}\n                  </ul>\n                </div>\n              </div>\n            ) : (\n              <div className=\"p-4 h-full flex flex-col\">\n                <h2 className=\"text-xl font-semibold text-[#66FCF1] mb-3\">Notes (Optional)</h2>\n                <textarea\n                  value={notes}\n                  onChange={(e) => setNotes(e.target.value)}\n                  placeholder=\"Add any notes about your current mood or situation...\"\n                  className=\"flex-grow bg-[#0B0C10] text-[#CFC6C7] p-3 rounded-lg resize-none focus:outline-none focus:ring-1 focus:ring-[#66FCF1]\"\n                  disabled={isRecording || isUploading}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Controls */}\n        <div className=\"flex flex-wrap justify-center gap-3 mb-8\">\n          {!isRecording && !isUploading && !recordingComplete && (\n            <button\n              type=\"button\"\n              onClick={startCountdown}\n              className=\"flex items-center bg-[#66FCF1] text-[#0B0C10] px-4 py-2 rounded-lg hover:bg-[#45A29E] transition-colors\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\" title=\"Record icon\">\n                <circle cx=\"12\" cy=\"12\" r=\"10\" strokeWidth=\"2\" />\n                <circle cx=\"12\" cy=\"12\" r=\"4\" fill=\"currentColor\" />\n              </svg>\n              Start Recording\n            </button>\n          )}\n\n          {isRecording && (\n            <button\n              type=\"button\"\n              onClick={stopRecording}\n              className=\"flex items-center bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\" title=\"Stop icon\">\n                <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\" strokeWidth=\"2\" />\n              </svg>\n              Stop Recording\n            </button>\n          )}\n\n          {(recordingComplete || emotionResult) && !isUploading && (\n            <button\n              type=\"button\"\n              onClick={resetAnalysis}\n              className=\"flex items-center bg-[#1F2833] text-[#CFC6C7] px-4 py-2 rounded-lg hover:bg-[#0B0C10] transition-colors\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\" title=\"Reset icon\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n              </svg>\n              New Analysis\n            </button>\n          )}\n\n          {isUploading && (\n            <div className=\"flex items-center bg-[#1F2833] text-[#CFC6C7] px-4 py-2 rounded-lg\">\n              <svg className=\"animate-spin h-5 w-5 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              Analyzing Video...\n            </div>\n          )}\n        </div>\n\n        {/* Instructions */}\n        <div className=\"bg-[#1F2833] p-4 rounded-lg\">\n          <h2 className=\"text-xl font-semibold text-[#66FCF1] mb-3\">How It Works</h2>\n          <ol className=\"list-decimal list-inside space-y-2\">\n            <li>Click \"Start Recording\" to begin a short video recording (max 15 seconds)</li>\n            <li>Speak naturally and express your thoughts or feelings</li>\n            <li>Our AI will analyze your facial expressions and voice tone</li>\n            <li>View your emotion analysis results and personalized recommendations</li>\n          </ol>\n          <p className=\"mt-3 text-sm text-gray-400\">\n            Note: Your privacy is important to us. Videos are processed securely and not stored after analysis.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EmotionAnalysis;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}