{"ast":null,"code":"var _jsxFileName = \"F:\\\\MindEase\\\\Symbiot\\\\src\\\\components\\\\AICompanion.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { auth, db, doc, getDoc } from '../firebase';\nimport { analyzeTextMood } from '../services/textMoodAnalysisService';\nimport { analyzeInput } from '../services/inputAnalysisService';\nimport { generateResponse } from '../services/responseGenerationService';\nimport { fetchCourseContent } from '../services/courseContentService';\nimport { getCachedItem, setCachedItem } from '../utils/cacheUtil';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AICompanion = () => {\n  _s();\n  const [userCourse, setUserCourse] = useState('');\n  const [userInput, setUserInput] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [recommendations, setRecommendations] = useState(null);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n  const [conversationMemory, setConversationMemory] = useState({\n    previousInputs: [],\n    previousResponses: [],\n    lastInputType: null,\n    repetitiveInputCount: 0,\n    mentionedTopics: [],\n    userMoods: []\n  });\n  const messagesEndRef = useRef(null);\n\n  // Fetch user's course from Firebase\n  useEffect(() => {\n    const fetchUserCourse = async () => {\n      try {\n        const user = auth.currentUser;\n        if (!user) {\n          console.log('No user logged in');\n          return;\n        }\n\n        // Get user data from Firestore\n        const userDoc = await getDoc(doc(db, \"users\", user.uid));\n        if (userDoc.exists()) {\n          const userData = userDoc.data();\n          setUserCourse(userData.course || '');\n        } else {\n          console.log('No user data found');\n        }\n      } catch (error) {\n        console.error('Error fetching user course:', error);\n      }\n    };\n    fetchUserCourse();\n  }, []);\n\n  // Scroll to bottom when messages change\n  useEffect(() => {\n    // Using a timeout to ensure the DOM has updated\n    const timeoutId = setTimeout(() => {\n      if (messagesEndRef.current) {\n        messagesEndRef.current.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }\n    }, 100);\n    return () => clearTimeout(timeoutId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages.length]); // Only depend on the length of messages\n\n  // Initial greeting\n  useEffect(() => {\n    const greetings = [\"Hi there! I'm your AI learning companion. How are you feeling today?\", \"Hello! I'm your AI study assistant. How's your mood today?\", \"Welcome! I'm here to help with your studies. How are you feeling right now?\", \"Greetings! I'm your AI learning partner. How's your day going?\", \"Hi! I'm your personalized study companion. How are you feeling today?\"];\n    const randomGreeting = greetings[Math.floor(Math.random() * greetings.length)];\n    setMessages([{\n      type: 'ai',\n      text: `${randomGreeting} Tell me about your mood or what's on your mind, and I'll recommend study approaches that might work best for you right now.`\n    }]);\n  }, []);\n\n  // Handle sending a message\n  const handleSendMessage = async () => {\n    if (!userInput.trim()) return;\n    const userMessage = {\n      type: 'user',\n      text: userInput\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setUserInput('');\n    setIsLoading(true);\n    try {\n      // Advanced input analysis\n      const inputAnalysis = analyzeInput(userInput);\n\n      // Traditional mood analysis for backward compatibility\n      const moodAnalysis = analyzeTextMood(userInput);\n\n      // Update conversation memory\n      setConversationMemory(prevMemory => {\n        // Store previous inputs and responses (limited to last 5)\n        const updatedInputs = [...prevMemory.previousInputs, userInput].slice(-5);\n\n        // Track mentioned topics\n        const updatedTopics = [...new Set([...prevMemory.mentionedTopics, ...inputAnalysis.topics])].slice(-5);\n\n        // Track user moods\n        const updatedMoods = [...prevMemory.userMoods, moodAnalysis.mood].slice(-3);\n\n        // Check for repetitive inputs\n        const isRepetitive = prevMemory.lastInputType === inputAnalysis.questionTypes[0];\n        const repetitiveCount = isRepetitive ? prevMemory.repetitiveInputCount + 1 : 0;\n        return {\n          previousInputs: updatedInputs,\n          previousResponses: prevMemory.previousResponses,\n          lastInputType: inputAnalysis.questionTypes[0] || null,\n          repetitiveInputCount: repetitiveCount,\n          mentionedTopics: updatedTopics,\n          userMoods: updatedMoods\n        };\n      });\n\n      // Fetch content recommendations based on mood and course\n      let content = null;\n      if (userCourse) {\n        try {\n          // Create cache key\n          const cacheKey = `content_${userCourse}_${moodAnalysis.mood}`;\n\n          // Check cache first\n          content = getCachedItem(cacheKey);\n          if (!content) {\n            // Fetch fresh content\n            content = await fetchCourseContent(userCourse, moodAnalysis.mood);\n\n            // Cache the result\n            setCachedItem(cacheKey, content);\n          }\n          setRecommendations(content);\n        } catch (error) {\n          console.error('Error fetching recommendations:', error);\n          // Continue even if recommendations fail\n        }\n      }\n\n      // Generate AI response using our new service\n      setTimeout(() => {\n        // Generate response based on input analysis\n        const aiResponse = generateResponse(inputAnalysis, conversationMemory, userCourse);\n\n        // Update conversation memory with the new response\n        setConversationMemory(prevMemory => {\n          const updatedResponses = [...prevMemory.previousResponses, aiResponse].slice(-5);\n          return {\n            ...prevMemory,\n            previousResponses: updatedResponses\n          };\n        });\n        setMessages(prev => [...prev, {\n          type: 'ai',\n          text: aiResponse\n        }]);\n        setIsLoading(false);\n        if (content) {\n          setShowRecommendations(true);\n        }\n      }, 1000);\n    } catch (error) {\n      console.error('Error in message processing:', error);\n\n      // Fallback response for error cases\n      setTimeout(() => {\n        const fallbackResponses = [\"I'm having trouble understanding right now. Could you rephrase that?\", \"Something went wrong on my end. Could you try asking in a different way?\", \"I apologize, but I'm having difficulty processing that. Could you be more specific?\", \"I seem to be having a technical issue. Could you try a different question?\", \"I'm sorry, but I couldn't quite follow that. Could you elaborate?\"];\n        const fallbackResponse = fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];\n        setMessages(prev => [...prev, {\n          type: 'ai',\n          text: fallbackResponse\n        }]);\n        setIsLoading(false);\n      }, 1000);\n    }\n  };\n\n  // Handle key press (Enter to send)\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-[#1F2833] rounded-lg overflow-hidden flex flex-col h-[600px]\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-[#0B0C10] p-4 border-b border-[#45A29E]\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-[#66FCF1] font-medium\",\n        children: \"AI Learning Companion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-[#CFC6C7] text-sm\",\n        children: \"Share how you're feeling, and I'll recommend study approaches\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n      children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `max-w-[80%] rounded-lg p-3 ${message.type === 'user' ? 'bg-[#45A29E] text-white' : 'bg-[#0B0C10] text-[#CFC6C7]'}`,\n          children: message.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)\n      }, `message-${index}-${message.type}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-start\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#0B0C10] text-[#CFC6C7] rounded-lg p-3 max-w-[80%]\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 rounded-full bg-[#66FCF1] animate-bounce\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 rounded-full bg-[#66FCF1] animate-bounce\",\n              style: {\n                animationDelay: '0.2s'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 rounded-full bg-[#66FCF1] animate-bounce\",\n              style: {\n                animationDelay: '0.4s'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), showRecommendations && recommendations && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-[#0B0C10] p-4 border-t border-[#45A29E] max-h-[250px] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-[#66FCF1] font-medium mb-3\",\n        children: \"Recommended Resources\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), recommendations.videos && recommendations.videos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"text-[#CFC6C7] text-sm font-medium mb-2\",\n          children: \"Videos for your current mood:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 sm:grid-cols-2 gap-2\",\n          children: recommendations.videos.slice(0, 2).map(video => /*#__PURE__*/_jsxDEV(\"a\", {\n            href: video.url,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"flex items-center bg-[#1F2833] rounded p-2 hover:bg-[#1F2833]/80 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-12 flex-shrink-0 mr-2\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: video.thumbnail,\n                alt: video.title,\n                className: \"w-full h-full object-cover rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-[#CFC6C7] text-xs line-clamp-2\",\n                children: video.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 21\n            }, this)]\n          }, `video-${video.id}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }, this), recommendations.resources && recommendations.resources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"text-[#CFC6C7] text-sm font-medium mb-2\",\n          children: \"Learning resources:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: recommendations.resources.slice(0, 2).map((resource, index) => /*#__PURE__*/_jsxDEV(\"a\", {\n            href: resource.url,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"block bg-[#1F2833] rounded p-2 hover:bg-[#1F2833]/80 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[#CFC6C7] text-xs font-medium\",\n              children: resource.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 text-xs mt-1\",\n              children: resource.source\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 21\n            }, this)]\n          }, `resource-${resource.source}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-t border-[#45A29E]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: userInput,\n          onChange: e => setUserInput(e.target.value),\n          onKeyPress: handleKeyPress,\n          placeholder: \"Tell me how you're feeling today...\",\n          className: \"flex-1 bg-[#0B0C10] text-[#CFC6C7] rounded-l-lg p-3 focus:outline-none resize-none\",\n          rows: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleSendMessage,\n          disabled: isLoading || !userInput.trim(),\n          className: \"bg-[#66FCF1] text-[#0B0C10] px-4 rounded-r-lg font-medium hover:bg-[#45A29E] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n};\n_s(AICompanion, \"DM5+stTqLvTyLX6c6hXyvdUOqao=\");\n_c = AICompanion;\nexport default AICompanion;\nvar _c;\n$RefreshReg$(_c, \"AICompanion\");","map":{"version":3,"names":["React","useState","useEffect","useRef","auth","db","doc","getDoc","analyzeTextMood","analyzeInput","generateResponse","fetchCourseContent","getCachedItem","setCachedItem","jsxDEV","_jsxDEV","AICompanion","_s","userCourse","setUserCourse","userInput","setUserInput","messages","setMessages","isLoading","setIsLoading","recommendations","setRecommendations","showRecommendations","setShowRecommendations","conversationMemory","setConversationMemory","previousInputs","previousResponses","lastInputType","repetitiveInputCount","mentionedTopics","userMoods","messagesEndRef","fetchUserCourse","user","currentUser","console","log","userDoc","uid","exists","userData","data","course","error","timeoutId","setTimeout","current","scrollIntoView","behavior","clearTimeout","length","greetings","randomGreeting","Math","floor","random","type","text","handleSendMessage","trim","userMessage","prev","inputAnalysis","moodAnalysis","prevMemory","updatedInputs","slice","updatedTopics","Set","topics","updatedMoods","mood","isRepetitive","questionTypes","repetitiveCount","content","cacheKey","aiResponse","updatedResponses","fallbackResponses","fallbackResponse","handleKeyPress","e","key","shiftKey","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","message","index","style","animationDelay","ref","videos","video","href","url","target","rel","src","thumbnail","alt","title","id","resources","resource","source","value","onChange","onKeyPress","placeholder","rows","onClick","disabled","_c","$RefreshReg$"],"sources":["F:/MindEase/Symbiot/src/components/AICompanion.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { auth, db, doc, getDoc } from '../firebase';\nimport { analyzeTextMood } from '../services/textMoodAnalysisService';\nimport { analyzeInput } from '../services/inputAnalysisService';\nimport { generateResponse } from '../services/responseGenerationService';\nimport { fetchCourseContent } from '../services/courseContentService';\nimport { getCachedItem, setCachedItem } from '../utils/cacheUtil';\n\nconst AICompanion = () => {\n  const [userCourse, setUserCourse] = useState('');\n  const [userInput, setUserInput] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [recommendations, setRecommendations] = useState(null);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n  const [conversationMemory, setConversationMemory] = useState({\n    previousInputs: [],\n    previousResponses: [],\n    lastInputType: null,\n    repetitiveInputCount: 0,\n    mentionedTopics: [],\n    userMoods: []\n  });\n  const messagesEndRef = useRef(null);\n\n  // Fetch user's course from Firebase\n  useEffect(() => {\n    const fetchUserCourse = async () => {\n      try {\n        const user = auth.currentUser;\n\n        if (!user) {\n          console.log('No user logged in');\n          return;\n        }\n\n        // Get user data from Firestore\n        const userDoc = await getDoc(doc(db, \"users\", user.uid));\n\n        if (userDoc.exists()) {\n          const userData = userDoc.data();\n          setUserCourse(userData.course || '');\n        } else {\n          console.log('No user data found');\n        }\n      } catch (error) {\n        console.error('Error fetching user course:', error);\n      }\n    };\n\n    fetchUserCourse();\n  }, []);\n\n  // Scroll to bottom when messages change\n  useEffect(() => {\n    // Using a timeout to ensure the DOM has updated\n    const timeoutId = setTimeout(() => {\n      if (messagesEndRef.current) {\n        messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n      }\n    }, 100);\n\n    return () => clearTimeout(timeoutId);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages.length]); // Only depend on the length of messages\n\n  // Initial greeting\n  useEffect(() => {\n    const greetings = [\n      \"Hi there! I'm your AI learning companion. How are you feeling today?\",\n      \"Hello! I'm your AI study assistant. How's your mood today?\",\n      \"Welcome! I'm here to help with your studies. How are you feeling right now?\",\n      \"Greetings! I'm your AI learning partner. How's your day going?\",\n      \"Hi! I'm your personalized study companion. How are you feeling today?\"\n    ];\n\n    const randomGreeting = greetings[Math.floor(Math.random() * greetings.length)];\n\n    setMessages([\n      {\n        type: 'ai',\n        text: `${randomGreeting} Tell me about your mood or what's on your mind, and I'll recommend study approaches that might work best for you right now.`\n      }\n    ]);\n  }, []);\n\n  // Handle sending a message\n  const handleSendMessage = async () => {\n    if (!userInput.trim()) return;\n\n    const userMessage = {\n      type: 'user',\n      text: userInput\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setUserInput('');\n    setIsLoading(true);\n\n    try {\n      // Advanced input analysis\n      const inputAnalysis = analyzeInput(userInput);\n\n      // Traditional mood analysis for backward compatibility\n      const moodAnalysis = analyzeTextMood(userInput);\n\n      // Update conversation memory\n      setConversationMemory(prevMemory => {\n        // Store previous inputs and responses (limited to last 5)\n        const updatedInputs = [...prevMemory.previousInputs, userInput].slice(-5);\n\n        // Track mentioned topics\n        const updatedTopics = [...new Set([...prevMemory.mentionedTopics, ...inputAnalysis.topics])].slice(-5);\n\n        // Track user moods\n        const updatedMoods = [...prevMemory.userMoods, moodAnalysis.mood].slice(-3);\n\n        // Check for repetitive inputs\n        const isRepetitive = prevMemory.lastInputType === inputAnalysis.questionTypes[0];\n        const repetitiveCount = isRepetitive ? prevMemory.repetitiveInputCount + 1 : 0;\n\n        return {\n          previousInputs: updatedInputs,\n          previousResponses: prevMemory.previousResponses,\n          lastInputType: inputAnalysis.questionTypes[0] || null,\n          repetitiveInputCount: repetitiveCount,\n          mentionedTopics: updatedTopics,\n          userMoods: updatedMoods\n        };\n      });\n\n      // Fetch content recommendations based on mood and course\n      let content = null;\n\n      if (userCourse) {\n        try {\n          // Create cache key\n          const cacheKey = `content_${userCourse}_${moodAnalysis.mood}`;\n\n          // Check cache first\n          content = getCachedItem(cacheKey);\n\n          if (!content) {\n            // Fetch fresh content\n            content = await fetchCourseContent(userCourse, moodAnalysis.mood);\n\n            // Cache the result\n            setCachedItem(cacheKey, content);\n          }\n\n          setRecommendations(content);\n        } catch (error) {\n          console.error('Error fetching recommendations:', error);\n          // Continue even if recommendations fail\n        }\n      }\n\n      // Generate AI response using our new service\n      setTimeout(() => {\n        // Generate response based on input analysis\n        const aiResponse = generateResponse(inputAnalysis, conversationMemory, userCourse);\n\n        // Update conversation memory with the new response\n        setConversationMemory(prevMemory => {\n          const updatedResponses = [...prevMemory.previousResponses, aiResponse].slice(-5);\n          return {\n            ...prevMemory,\n            previousResponses: updatedResponses\n          };\n        });\n\n        setMessages(prev => [...prev, {\n          type: 'ai',\n          text: aiResponse\n        }]);\n\n        setIsLoading(false);\n        if (content) {\n          setShowRecommendations(true);\n        }\n      }, 1000);\n    } catch (error) {\n      console.error('Error in message processing:', error);\n\n      // Fallback response for error cases\n      setTimeout(() => {\n        const fallbackResponses = [\n          \"I'm having trouble understanding right now. Could you rephrase that?\",\n          \"Something went wrong on my end. Could you try asking in a different way?\",\n          \"I apologize, but I'm having difficulty processing that. Could you be more specific?\",\n          \"I seem to be having a technical issue. Could you try a different question?\",\n          \"I'm sorry, but I couldn't quite follow that. Could you elaborate?\"\n        ];\n\n        const fallbackResponse = fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];\n\n        setMessages(prev => [...prev, {\n          type: 'ai',\n          text: fallbackResponse\n        }]);\n\n        setIsLoading(false);\n      }, 1000);\n    }\n  };\n\n  // Handle key press (Enter to send)\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <div className=\"bg-[#1F2833] rounded-lg overflow-hidden flex flex-col h-[600px]\">\n      {/* Header */}\n      <div className=\"bg-[#0B0C10] p-4 border-b border-[#45A29E]\">\n        <h3 className=\"text-[#66FCF1] font-medium\">AI Learning Companion</h3>\n        <p className=\"text-[#CFC6C7] text-sm\">\n          Share how you're feeling, and I'll recommend study approaches\n        </p>\n      </div>\n\n      {/* Messages */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {messages.map((message, index) => (\n          <div\n            key={`message-${index}-${message.type}`}\n            className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}\n          >\n            <div\n              className={`max-w-[80%] rounded-lg p-3 ${\n                message.type === 'user'\n                  ? 'bg-[#45A29E] text-white'\n                  : 'bg-[#0B0C10] text-[#CFC6C7]'\n              }`}\n            >\n              {message.text}\n            </div>\n          </div>\n        ))}\n\n        {isLoading && (\n          <div className=\"flex justify-start\">\n            <div className=\"bg-[#0B0C10] text-[#CFC6C7] rounded-lg p-3 max-w-[80%]\">\n              <div className=\"flex space-x-2\">\n                <div className=\"w-2 h-2 rounded-full bg-[#66FCF1] animate-bounce\" />\n                <div className=\"w-2 h-2 rounded-full bg-[#66FCF1] animate-bounce\" style={{ animationDelay: '0.2s' }} />\n                <div className=\"w-2 h-2 rounded-full bg-[#66FCF1] animate-bounce\" style={{ animationDelay: '0.4s' }} />\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Recommendations Section */}\n      {showRecommendations && recommendations && (\n        <div className=\"bg-[#0B0C10] p-4 border-t border-[#45A29E] max-h-[250px] overflow-y-auto\">\n          <h4 className=\"text-[#66FCF1] font-medium mb-3\">Recommended Resources</h4>\n\n          {/* Videos */}\n          {recommendations.videos && recommendations.videos.length > 0 && (\n            <div className=\"mb-3\">\n              <h5 className=\"text-[#CFC6C7] text-sm font-medium mb-2\">Videos for your current mood:</h5>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                {recommendations.videos.slice(0, 2).map((video) => (\n                  <a\n                    key={`video-${video.id}`}\n                    href={video.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"flex items-center bg-[#1F2833] rounded p-2 hover:bg-[#1F2833]/80 transition-colors\"\n                  >\n                    <div className=\"w-16 h-12 flex-shrink-0 mr-2\">\n                      <img\n                        src={video.thumbnail}\n                        alt={video.title}\n                        className=\"w-full h-full object-cover rounded\"\n                      />\n                    </div>\n                    <div className=\"flex-1\">\n                      <p className=\"text-[#CFC6C7] text-xs line-clamp-2\">{video.title}</p>\n                    </div>\n                  </a>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Resources */}\n          {recommendations.resources && recommendations.resources.length > 0 && (\n            <div>\n              <h5 className=\"text-[#CFC6C7] text-sm font-medium mb-2\">Learning resources:</h5>\n              <div className=\"space-y-2\">\n                {recommendations.resources.slice(0, 2).map((resource, index) => (\n                  <a\n                    key={`resource-${resource.source}-${index}`}\n                    href={resource.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"block bg-[#1F2833] rounded p-2 hover:bg-[#1F2833]/80 transition-colors\"\n                  >\n                    <p className=\"text-[#CFC6C7] text-xs font-medium\">{resource.title}</p>\n                    <p className=\"text-gray-400 text-xs mt-1\">{resource.source}</p>\n                  </a>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Input */}\n      <div className=\"p-4 border-t border-[#45A29E]\">\n        <div className=\"flex\">\n          <textarea\n            value={userInput}\n            onChange={(e) => setUserInput(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Tell me how you're feeling today...\"\n            className=\"flex-1 bg-[#0B0C10] text-[#CFC6C7] rounded-l-lg p-3 focus:outline-none resize-none\"\n            rows=\"2\"\n          />\n          <button\n            type=\"button\"\n            onClick={handleSendMessage}\n            disabled={isLoading || !userInput.trim()}\n            className=\"bg-[#66FCF1] text-[#0B0C10] px-4 rounded-r-lg font-medium hover:bg-[#45A29E] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Send\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AICompanion;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}